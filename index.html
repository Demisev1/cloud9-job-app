<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Apply — Cloud 9 Vapes / The Hemp and Kratom Depot</title>
  <meta name="description" content="Apply to Cloud 9 Vapes / The Hemp and Kratom Depot. Create an account, submit your application, and track your status.">
  <link rel="icon" href="./assets/img/favicon.svg" type="image/svg+xml">
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            brand: {
              50: '#eff6ff',
              100: '#dbeafe',
              200: '#bfdbfe',
              300: '#93c5fd',
              400: '#60a5fa',
              500: '#3b82f6',
              600: '#2563eb',
              700: '#1d4ed8',
              800: '#1e40af',
              900: '#1e3a8a'
            }
          }
        }
      }
    }
  </script>
  <style>
    /* Smooth card shadows & rounded aesthetics */
    .card{ @apply bg-white rounded-2xl shadow-md border border-slate-100; }
    .btn{ @apply inline-flex items-center justify-center rounded-xl px-4 py-2 font-medium border border-transparent transition; }
    .btn-primary{ @apply bg-brand-600 hover:bg-brand-700 text-white; }
    .btn-outline{ @apply border-slate-300 hover:bg-slate-50; }
    .input{ @apply w-full rounded-xl border border-slate-300 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-brand-400; }
    .badge{ @apply inline-flex items-center rounded-full px-3 py-1 text-sm font-medium; }
  </style>
</head>
<body class="bg-slate-50 text-slate-900">
  <header class="sticky top-0 z-40 bg-white/80 backdrop-blur border-b border-slate-200">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center gap-4">
      <img src="./assets/img/favicon.svg" alt="Cloud 9 Vapes" class="w-8 h-8">
      <div class="flex-1">
        <h1 class="text-lg font-semibold">Apply — Cloud 9 Vapes / The Hemp and Kratom Depot</h1>
        <p class="text-xs text-slate-500 -mt-1">Join the team. Track your application status.</p>
      </div>
      <nav class="hidden md:flex items-center gap-2">
        <a href="#/" class="btn btn-outline">Home</a>
        <a href="#/apply" class="btn btn-outline">Apply</a>
        <a href="#/locations" class="btn btn-outline">Locations</a>
        <a href="#/dashboard" class="btn btn-primary">My Dashboard</a>
      </nav>
      <button id="navUserBtn" class="btn btn-outline md:hidden">Menu</button>
    </div>
  </header>

  
  <main id=\"app\" class=\"container mx-auto px-4 py-10\">Loading…</main>
<main class="max-w-6xl mx-auto p-4">
    <!-- Views are injected here by router -->
    <div id="view"></div>
  </main>

  <footer class="border-t border-slate-200 mt-10">
    <div class="max-w-6xl mx-auto px-4 py-6 text-sm text-slate-600 flex flex-col md:flex-row items-center justify-between gap-2">
      <p>&copy; <span id="year"></span> Cloud 9 Vapes / The Hemp and Kratom Depot. All rights reserved.</p>
      <div class="flex items-center gap-3">
        <a href="#/privacy" class="hover:underline">Privacy</a>
        <a href="#/terms" class="hover:underline">Terms</a>
        <span class="text-slate-300">|</span>
        <span class="text-xs">21+ only. Please vape responsibly.</span>
      </div>
    </div>
  </footer>

  <!-- Config (user must copy example to config.js and fill keys) -->
  <script src="./assets/js/config.js?v=1759887170"></script>
  <!-- Supabase CDN -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>window.__VER__="1759885465";</script>
  <!-- App scripts -->
  <script src="./assets/js/supa.js?v=1759887170"></script>
  <script src="./assets/js/ui-clean.js?v=1759887170"></script>
  <script src="./assets/js/router.js?v=1759887170"></script>
  <script src="./assets/js/views.js?v=17598880241759887170"></script>
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>

  <script>
    // Basic runtime error surface to help debug on Pages
    window.addEventListener('error', function(e){
      const box = document.createElement('div');
      box.style.position='fixed'; box.style.bottom='12px'; box.style.right='12px';
      box.style.background='#fee2e2'; box.style.color='#991b1b';
      box.style.padding='8px 10px'; box.style.borderRadius='10px'; box.style.fontSize='12px';
      box.style.boxShadow='0 6px 16px rgba(0,0,0,.1)';
      box.textContent = 'Error: ' + (e.message || 'See console');
      document.body.appendChild(box);
      setTimeout(()=>box.remove(), 6000);
    });
  </script>


  <style>
    #diag{position:fixed;bottom:12px;left:12px;max-width:48rem;background:#0b1220;color:#e2e8f0;
      border:1px solid #334155;border-radius:12px;padding:10px 12px;font:12px/1.4 ui-sans-serif,system-ui;z-index:99999;box-shadow:0 12px 32px rgba(0,0,0,.25)}
    #diag b{color:#93c5fd} #diag .ok{color:#86efac} #diag .err{color:#fecaca}
  </style>
  <div id="diag">
    <div><b>Diagnostics</b> v<span id="v"></span> · <span id="ts"></span></div>
    <div>Config: <span id="cfg" class="">(loading)</span></div>
    <div>Supabase: <span id="sb" class="">(loading)</span></div>
    <div>Locations count: <span id="cnt" class="">(loading)</span></div>
    <div>Router: <span id="rt">(loading)</span></div>
    <div>Last error: <span id="err">(none)</span></div>
  </div>
  


<script>
  (function(){
    if(!document.getElementById('app')){
      var m=document.createElement('main');
      m.id='app'; m.className='container mx-auto px-4 py-10';
      m.textContent='Loading…';
      var body=document.body; var before=document.querySelector('footer');
      body.insertBefore(m, before||null);
    }
  })();
</script>

  <script>(function(){try{window.dispatchEvent(new HashChangeEvent("hashchange"));}catch(e){/* no-op */}})();</script>

  <script>
  // Hard-boot fallback: if router doesn't render in 800ms, paint a minimal home view.
  (function(){
    function byId(id){return document.getElementById(id);}
    function empty(el){while(el && el.firstChild) el.removeChild(el.firstChild);}
    function card(html){var d=document.createElement('div'); d.className='card p-4 mb-3'; d.innerHTML=html; return d;}

    setTimeout(async function(){
      var el = byId('app');
      if(!el) return;
      // consider it "blank" if only textContent is 'Loading…' or empty
      var txt = (el.textContent||'').trim();
      if (el.children.length === 0 || txt === '' || /^Loading/i.test(txt)){
        try{
          // Build supabase client safely even if window.supabaseClient exists
          var sb = window.supabaseClient || (window.supabase && window.supabase.createClient(window.APP_CONFIG.SUPABASE_URL, window.APP_CONFIG.SUPABASE_ANON_KEY));
          if (!sb){ el.textContent = 'Unable to initialize app.'; return; }
          empty(el);
          var h = document.createElement('h2'); h.className='text-2xl font-semibold mb-3'; h.textContent='Join Cloud 9 Vapes / The Hemp and Kratom Depot'; el.appendChild(h);
          var p = document.createElement('p'); p.className='text-slate-600 mb-6'; p.textContent='Apply in minutes, then track your application status by logging in.'; el.appendChild(p);
          var linkRow = document.createElement('div'); linkRow.className='flex gap-4 mb-6'; linkRow.innerHTML='<a href="#/apply" class="btn btn-primary">Apply Now</a><a href="#/login" class="btn btn-outline">My Dashboard</a>'; el.appendChild(linkRow);
          var locWrap = document.createElement('div'); locWrap.className='card p-4'; locWrap.innerHTML='<div class="flex items-center justify-between mb-2"><h3 class="font-semibold">Current Locations</h3><a class="text-brand-700 underline" href="#/locations">View all</a></div>'; el.appendChild(locWrap);
          var list = document.createElement('div'); list.id='__fallbackLocs'; locWrap.appendChild(list);
          var { data, error } = await sb.from('locations').select('*').order('store_name');
          if (error){ list.textContent = error.message; return; }
          data.forEach(function(loc){
            var logo = (loc.brand||'').toLowerCase().includes('kratom') ? './assets/img/logo-kratomdepot.png' : './assets/img/logo-cloud9.png';
            list.appendChild(card('<div class="flex items-start gap-3">'
              + '<img src="'+logo+'" alt="brand" class="w-10 h-10 rounded-full object-cover mt-1"/>'
              + '<div><div class="font-medium">'+ (loc.store_name||'Store') +'</div>'
              + '<div class="text-sm text-slate-600">'+ (loc.address||'') +'</div>'
              + (loc.hours?('<div class="text-sm text-slate-600">'+loc.hours+'</div>'):'')
              + '</div></div>'));
          });
        }catch(e){
          el.textContent = 'Render error: ' + (e.message||String(e));
        }
      }
    }, 800);
  })();
  </script>


  


  


  


  


  <!-- Config & libs START -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="assets/js/config.js?v=1759887737"></script>
  <script src="assets/js/supa.js?v=1759887737"></script>
  <script src="assets/js/ui-clean.js?v=1759887737"></script>
  <script src="assets/js/views.js?v=17598880241759887737"></script>
  <script src="assets/js/router.js?v=1759887737"></script>
  <!-- Config & libs END -->

</body>
</html>
